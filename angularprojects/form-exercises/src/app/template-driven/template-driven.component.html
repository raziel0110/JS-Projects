<div class="container">
  <div class="row">
    <div class="col-12 col-md-8 col-sm-10 offset-md-2 offset-sm-1">
      <form class="form" (ngSubmit)="onSubmit(f)" #f="ngForm">
        <div class="form-group">
          <input
            type="text"
            class="form-control input-border"
            placeholder="Enter name"
            ngModel
            name="username"
            #username="ngModel"
            required
          />
          <p class="text-muted" *ngIf="!username.valid && username.touched">
            **Please enter a valid username
          </p>
        </div>

        <div class="form-group">
          <input
            type="email"
            class="form-control input-border"
            placeholder="Enter email address"
            ngModel
            name="email"
            #email="ngModel"
            required
            pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
          />
          <div class="text-muted" *ngIf="email.invalid">
            <p
              class="text-muted"
              *ngIf="email.errors.required && email.touched"
            >
              **Email is required
            </p>
            <p class="text-muted" *ngIf="email.errors.pattern">
              **Please enter a valid email address
            </p>
          </div>
        </div>

        <div class="form-group">
          <input
            type="password"
            class="form-control input-border"
            placeholder="Enter password"
            [(ngModel)]="user.password"
            name="password"
            #password="ngModel"
            required
            autocomplete="new-password"
          />
          <div class="text-muted" *ngIf="password.invalid && password.touched">
            Please enter a valid password!
          </div>
        </div>

        <div class="form-group">
          <input
            appCustomValidator="password"
            type="password"
            class="form-control input-border"
            placeholder="Confirm password"
            [(ngModel)]="user.confirmPassword"
            name="confirmPassword"
            #confirmPassword="ngModel"
            required
            autocomplete="nickname"
          />
          <div class="text-muted" *ngIf="confirmPassword.invalid">
            <p
              *ngIf="confirmPassword.errors.required && confirmPassword.touched"
            >
              Password is required!
            </p>
            <p
              *ngIf="
                confirmPassword.touched &&
                confirmPassword.errors.notEqual &&
                !confirmPassword.errors.required
              "
            >
              Password not match!
            </p>
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-outline-secondary"
          [disabled]="!f.valid"
        >
          Submit
        </button>
      </form>
      <p *ngIf="password">{{ user.password }}</p>
    </div>
  </div>
</div>
